<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE readme SYSTEM "docs.dtd">
<readme title="Pentagram" changed="22 May 2005 (GMT)">	
	<section title="Building CVS">
		<sub name="dependencies">
			<header>Build dependencies</header>
			<body>
			<para>
				Before you build <Pent/>, make sure you have the following tools/libraries.
			</para>
			<ul>
				<li>SDL;</li>
				<li>SDL_ttf;</li>
				<li>zlib;</li>
				<li>for Linux/Unix, you need autoconf and automake.</li>
			</ul>
			</body>
		</sub>
		<sub name="building_linux">
			<header>Linux/Unix</header>
			<body>
				<ol>
					<li> Run the "bootstrap" script to create the "configure" script:<br/>				
						<kbd>./bootstrap</kbd></li>
					<li>Now run configure:<br/>
						<kbd>./configure</kbd></li>
					<li>Finally, start the build as usual:<br/>
						<kbd>make</kbd></li>
				</ol>
			</body>
		</sub>
		<sub name="building_win32">
			<header>Windows</header>
			<body>
				<para>
					nothing here yet
				</para>
			</body>
		</sub>	
	</section>
	<section title="Configuration">
		<sub name="quick_ini">
			<header>Quick guide</header>
			<body>
				<para>
					<Pent/> needs a pentagram.ini file to point it to the game data files.
					In Linux, pentagram.ini has to be in the <kbd>~/.pentagram</kbd> directory.
					In Windows, it has to be in the current directory.<br/>
					A sample pentagram.ini is included below (this is all that is needed at the
					moment to run <Pent/>). Comments are marked with <kbd>#</kbd> and are above the ini-entries.<br/>
					You can copy/paste these settings with the comments to your ini file as <Pent/> will ignore
					lines beginning with <kbd>#</kbd>.
				</para>
				<configdesc>
					<configsec name="u8">
							<configtag name="path">
							path to U8 directory
							<comment># replace 'path to U8 directory' with the directory containing 'u8.exe'</comment>
							</configtag>
					</configsec>
				</configdesc>
			</body>
		</sub>
		<sub name="advanced_ini">
			<header>Advanced Configuration</header>
			<body>
				<para>
					Right now <Pent/> assumes some default settings that don't need to be set to
					make <Pent/> work. The settings below are these default settings.
				</para>
				<configdesc>
					<configsec name="pentagram">
<!--						<configtag name="data">
							path to pentagram data dir
							<comment># replace 'path to pentagram data dir' with the pentagram data directory</comment>
							<comment># (that's the directory that contains fixedfont.tga)</comment>
						</configtag> -->
						<configtag name="defaultgame">
							u8
						</configtag>
						<configtag name="fullscreen">
							no
						</configtag>						
						<configtag name="scalex">
							320
							<comment># Width of the game resolution.</comment>
						</configtag>
						<configtag name="scaley">
							240
							<comment># height of the game resolution.</comment>
						</configtag>
						<configtag name="scaler">
							point
							<comment># Select the scaler you want to use. Currently you can choose between</comment>
							<comment># point, bilinear, scale2x, 2xSaI, hq2x.</comment>
						</configtag>
						<configtag name="width">
							640
							<comment># The game resolution is scaled to this width.</comment>
						</configtag>
						<configtag name="height">
							480
							<comment># The game resolution is scaled to this height.</comment>
						</configtag>
						<configtag name="bpp">
							32
						</configtag>
						<configtag name="ttf">
							no
							<comment># Enable this to use the BitStream Vera font for conversations and object descriptions.</comment>
						</configtag>
						<configtag name="midi_driver">
							disabled/windows/fmopl/timidity/alsa/unixseq/coreaudio
							<comment># If you don't specify midi_driver, Pentagram will automatically select one,</comment>
							<comment># based on your platform.</comment>
							<comment>#(Note: Windows will only work on Windows. CoreAudio only on MacOSX.)</comment>
							<comment># See further down for more options on Linux.</comment>
						</configtag>						
						<configtag name="skipstart">
							no
							<comment># Enable this to skip the intro of U8 and initial conversation with Devon.</comment>
						</configtag>
					</configsec>
					<configsec name="u8">
						<configtag name="path">
							path to U8 directory
							<comment># replace 'path to U8 directory' with the directory containing 'u8.exe'</comment>
						</configtag>
						<configtag name="save">
							path to U8 savegames directory
							<comment># replace with the directory you want Pentagram to save games to.</comment>
							<comment># (no, loading of the original's savegames is not supported)</comment>
						</configtag>
					</configsec>
				</configdesc>
				<para>
					You may also override most settings under [pentagram] by writing them
					under [u8]. Except for defaultgame all can be overriden.<br/>
					Right now this is not necessary as we only support U8 but if we start to
					support other games it might come in handy.
				</para>
			</body>
		</sub>
		<sub name="linux_midi">
			<header>Optional MIDI settings for Linux</header>
			<body>
				<para>
					MIDI used on Linux might need some fine tuning in pentagram.ini to work correctly.
					Below are the settings you can configure.
				</para>
				<configdesc>
					<configsec name="pentagram">
							<configtag name="midi_driver">
							disabled/windows/fmopl/timidity/alsa/unixseq/coreaudio
							<comment># If you don't specify midi_driver, Pentagram will automatically select one,</comment>
							<comment># based on your platform.</comment>
							<comment>#(Note: Windows will only work on Windows. CoreAudio only on MacOSX.)</comment> 
						</configtag>
						<configtag name="timiditycfg">
							path to timidity.cfg
							<comment># You may need to set timiditycfg if you choose midi_driver=timidity.</comment>
						</configtag>
						<configtag name="alsa_port">
							alsa:port
							<comment># You may need to set alsa_port if you choose midi_driver=alsa.</comment>
						</configtag>
						<configtag name="unixseqdevice">
							dev/sequencer
							<comment># You may need to set unixseqdevice if you choose midi_driver=unixseq.</comment>
						</configtag>
					</configsec>
				</configdesc>
			</body>
		</sub>
	</section>
	<section title="Movement and Keys">
		<sub name="movement">
			<header>Movement</header>
			<body>
				<ul>					
					<li>Double-click with the right mouse button will make the Avatar
						find a path to the selected spot.</li>
					<li>Left-click on NPCs or objects to identify them.</li>
					<li>Double-left-click on NPCs or objects to initiate conversations or use the item.</li>
					<li>On pressing the right mouse button down the Avatar walks or runs 
						(depending on distance between cursor and Avatar).</li>
					<li>Pressing right and left mouse button, makes the Avatar jump or while running a running jump.</li>
					<li>You can also move the Avatar with the keypad. Details are in the keycommands table below.</li>
				</ul>
				<para>
					Note that on Mac OS you have to hold down the <key>Cmd</key> key and the
					mouse button to have the functionality of a right mouse button.
				</para>
  			</body>
		</sub>
		<sub name="pent_keys">
			<header>Keyboard commands</header>
			<body>
				<para>
					All key commands of <Pent/> can be changed by editing u8bindings.ini or via the options menu in the game.
					<key>KP</key> means keypad.
				</para>
				<keytable title="Default keyboard commands">
					<keydesc name="~">hides/restores console</keydesc>
					<keydesc name="arrow keys">moves Avatar around the map (no walking)</keydesc>
					<keydesc name="home,end">moves Avatar vertically </keydesc>
					<keydesc name="KP">Avatar walks (one animation cycle)</keydesc>
					<keydesc name="Shift+KP">Avatar runs (one animation cycle)</keydesc>
					<keydesc name="Ctrl+KP">Avatar makes a little step (one animation cycle)</keydesc>
					<keydesc name="Alt+KP">Avatar jumps long (one animation cycle)</keydesc>
					<keydesc name="s">toggles "avatarInStasis"</keydesc>
					<keydesc name="t">outputs kernel/usecode/world/location stats to the console</keydesc>
					<keydesc name="e">toggles editor items</keydesc>
					<keydesc name="h">highlights any item you are "hitting", colliding with</keydesc>
					<keydesc name="i">open backpack</keydesc>
					<keydesc name="z">open paperdoll/status</keydesc>
					<keydesc name="r">recall</keydesc>
					<keydesc name="c">switches combat mode on/off</keydesc>
					<keydesc name="ESC">main menu</keydesc>
					<keydesc name="alt+x">quit</keydesc>
					<keydesc name="ctrl+q">quits without confirmation </keydesc>
					<keydesc name="F7">Quicksave (savegames are not yet stable!)</keydesc>
					<keydesc name="F8">Quickload</keydesc>
					<keydesc name="F11">Shapeviewer</keydesc>
					<keydesc name="F12">toggles frame by frame</keydesc>
					<keydesc name="shift">quarter speed mode. needs to be held down</keydesc>
					<keydesc name="[">clears the screen, multiple presses show the paint order</keydesc>
					<keydesc name="]">above backwards</keydesc>
				</keytable>
			</body>
		</sub>
  	</section>
  	<section title="Other stuff">
		<sub name="games_versions">
			<header>Supported games and versions</header>
			<body>
				<para>
					At the moment we only support the English version of Ultima 8 regardless of the
					game version. The German and French versions will probably also work.
					The Spanish version will not work at this point.
					The games we don't support are defined in the <extref doc="faq" target="tgwds_tgyds"/>.
				</para>
			</body>
		</sub>
	</section>
	<section title="Changes to the Documentation">
		<sub name="22052005">
			<header>- 22 May 2005</header>
			<body>
				<para>
					<ref1 target="advanced_ini"/> some more configurations added.<br/>
					<ref1 target="linux_midi"/> added.<br/>
				</para>
			</body>
		</sub>
		<sub name="21052005">
			<header>- 21 May 2005</header>
			<body>
				<para>cleaned up outdated sections</para>
			</body>
		</sub>
		<sub name="14102004">
			<header>- 14 October 2004</header>
			<body>
				<para>
					<ref1 target="advanced_ini"/> enable font replacement.
				</para>
			</body>
		</sub>
	</section>
</readme>
